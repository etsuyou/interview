var xt=Object.defineProperty;var Ft=(t,e,r)=>e in t?xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ae=(t,e,r)=>Ft(t,typeof e!="symbol"?e+"":e,r);import{X as Et,s as re,v as ke,ai as _t,aj as St,d as It,G as ve,ak as Qe,h as me,al as At,am as kt,x as Ct,an as Nt,y as Ce,R as le,Q as ye,ao as Tt,ap as Ot,Y as Dt,U as Rt,aq as Mt,o as ee,b as Lt,j as O,a1 as zt,k as W,ar as Pt,as as jt,at as Vt,c as te,n as Ye,e as ge,E as Xe,F as Ze,a as ce,t as de,au as Bt,p as $t,l as Wt,av as et,aw as Gt,a8 as qt,ae as Jt,ax as Kt,_ as Ut}from"./framework.B2xMVIVo.js";import{u as Ht,c as Qt}from"./theme.B5Hak3WC.js";const Yt={root:()=>Et(()=>import("./@localSearchIndexroot.BKwEA6Oj.js"),[])};var ht=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ee=ht.join(","),ft=typeof Element>"u",oe=ft?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Fe=!ft&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},_e=function t(e,r){var n;r===void 0&&(r=!0);var o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert");return o===""||o==="true"||r&&e&&t(e.parentNode)},tt=function(t,e,r){if(_e(t))return[];var n=Array.prototype.slice.apply(t.querySelectorAll(Ee));return e&&oe.call(t,Ee)&&n.unshift(t),n=n.filter(r)},rt=function t(e,r,n){for(var o=[],i=Array.from(e);i.length;){var a=i.shift();if(!_e(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),u=t(s.length?s:a.children,!0,n);n.flatten?o.push.apply(o,u):o.push({scopeParent:a,candidates:u})}else{oe.call(a,Ee)&&n.filter(a)&&(r||!e.includes(a))&&o.push(a);var d=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),l=!_e(d,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(d&&l){var f=t(d===!0?a.children:d.children,!0,n);n.flatten?o.push.apply(o,f):o.push({scopeParent:a,candidates:f})}else i.unshift.apply(i,a.children)}}return o},pt=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},ne=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"}(t))&&!pt(t)?0:t.tabIndex},Xt=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},vt=function(t){return t.tagName==="INPUT"},Zt=function(t){return function(e){return vt(e)&&e.type==="radio"}(t)&&!function(e){if(!e.name)return!0;var r,n=e.form||Fe(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')};if(typeof window<"u"&&window.CSS!==void 0&&typeof window.CSS.escape=="function")r=o(window.CSS.escape(e.name));else try{r=o(e.name)}catch{return!1}var i=function(a,s){for(var u=0;u<a.length;u++)if(a[u].checked&&a[u].form===s)return a[u]}(r,e.form);return!i||i===e}(t)},nt=function(t){var e=t.getBoundingClientRect(),r=e.width,n=e.height;return r===0&&n===0},er=function(t,e){var r=e.displayCheck,n=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=oe.call(t,"details>summary:first-of-type")?t.parentElement:t;if(oe.call(o,"details:not([open]) *"))return!0;if(r&&r!=="full"&&r!=="legacy-full"){if(r==="non-zero-area")return nt(t)}else{if(typeof n=="function"){for(var i=t;t;){var a=t.parentElement,s=Fe(t);if(a&&!a.shadowRoot&&n(a)===!0)return nt(t);t=t.assignedSlot?t.assignedSlot:a||s===t.ownerDocument?a:s.host}t=i}if(function(u){var d,l,f,v,m=u&&Fe(u),b=(d=m)===null||d===void 0?void 0:d.host,w=!1;if(m&&m!==u)for(w=!!((l=b)!==null&&l!==void 0&&(f=l.ownerDocument)!==null&&f!==void 0&&f.contains(b)||u!=null&&(v=u.ownerDocument)!==null&&v!==void 0&&v.contains(u));!w&&b;){var S,A,I;w=!((A=b=(S=m=Fe(b))===null||S===void 0?void 0:S.host)===null||A===void 0||(I=A.ownerDocument)===null||I===void 0||!I.contains(b))}return w}(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}return!1},Se=function(t,e){return!(e.disabled||_e(e)||function(r){return vt(r)&&r.type==="hidden"}(e)||er(e,t)||function(r){return r.tagName==="DETAILS"&&Array.prototype.slice.apply(r.children).some(function(n){return n.tagName==="SUMMARY"})}(e)||function(r){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(r.tagName))for(var n=r.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return!!oe.call(n,"fieldset[disabled] *")||!i.contains(r)}return!0}n=n.parentElement}return!1}(e))},ze=function(t,e){return!(Zt(e)||ne(e)<0||!Se(t,e))},tr=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},rr=function t(e){var r=[],n=[];return e.forEach(function(o,i){var a=!!o.scopeParent,s=a?o.scopeParent:o,u=function(l,f){var v=ne(l);return v<0&&f&&!pt(l)?0:v}(s,a),d=a?t(o.candidates):s;u===0?a?r.push.apply(r,d):r.push(s):n.push({documentOrder:i,tabIndex:u,item:o,isScope:a,content:d})}),n.sort(Xt).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(r)},ie=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return oe.call(t,Ee)!==!1&&ze(e,t)},nr=ht.concat("iframe").join(","),Ne=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return oe.call(t,nr)!==!1&&Se(e,t)};function ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ot(Object(r),!0).forEach(function(n){or(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function or(t,e,r){return(e=function(n){var o=function(i,a){if(typeof i!="object"||i===null)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var u=s.call(i,a||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}(n,"string");return typeof o=="symbol"?o:String(o)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ir=function(t,e){if(t.length>0){var r=t[t.length-1];r!==e&&r.pause()}var n=t.indexOf(e);n===-1||t.splice(n,1),t.push(e)},ar=function(t,e){var r=t.indexOf(e);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()},fe=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},sr=function(t){return fe(t)&&!t.shiftKey},ur=function(t){return fe(t)&&t.shiftKey},at=function(t){return setTimeout(t,0)},st=function(t,e){var r=-1;return t.every(function(n,o){return!e(n)||(r=o,!1)}),r},he=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return typeof t=="function"?t.apply(void 0,r):t},be=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},lr=[],cr=function(t,e){var r,n=(e==null?void 0:e.document)||document,o=(e==null?void 0:e.trapStack)||lr,i=it({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:sr,isKeyBackward:ur},e),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s=function(h,c,p){return h&&h[c]!==void 0?h[c]:i[p||c]},u=function(h,c){var p=typeof(c==null?void 0:c.composedPath)=="function"?c.composedPath():void 0;return a.containerGroups.findIndex(function(_){var x=_.container,E=_.tabbableNodes;return x.contains(h)||(p==null?void 0:p.includes(x))||E.find(function(R){return R===h})})},d=function(h){var c=i[h];if(typeof c=="function"){for(var p=arguments.length,_=new Array(p>1?p-1:0),x=1;x<p;x++)_[x-1]=arguments[x];c=c.apply(void 0,_)}if(c===!0&&(c=void 0),!c){if(c===void 0||c===!1)return c;throw new Error("`".concat(h,"` was specified but was not a node, or did not return a node"))}var E=c;if(typeof c=="string"&&!(E=n.querySelector(c)))throw new Error("`".concat(h,"` as selector refers to no known node"));return E},l=function(){var h=d("initialFocus");if(h===!1)return!1;if(h===void 0||!Ne(h,i.tabbableOptions))if(u(n.activeElement)>=0)h=n.activeElement;else{var c=a.tabbableGroups[0];h=c&&c.firstTabbableNode||d("fallbackFocus")}if(!h)throw new Error("Your focus-trap needs to have at least one focusable element");return h},f=function(){if(a.containerGroups=a.containers.map(function(h){var c=function(y,F){var P;return P=(F=F||{}).getShadowRoot?rt([y],F.includeContainer,{filter:ze.bind(null,F),flatten:!1,getShadowRoot:F.getShadowRoot,shadowRootFilter:tr}):tt(y,F.includeContainer,ze.bind(null,F)),rr(P)}(h,i.tabbableOptions),p=function(y,F){return(F=F||{}).getShadowRoot?rt([y],F.includeContainer,{filter:Se.bind(null,F),flatten:!0,getShadowRoot:F.getShadowRoot}):tt(y,F.includeContainer,Se.bind(null,F))}(h,i.tabbableOptions),_=c.length>0?c[0]:void 0,x=c.length>0?c[c.length-1]:void 0,E=p.find(function(y){return ie(y)}),R=p.slice().reverse().find(function(y){return ie(y)}),g=!!c.find(function(y){return ne(y)>0});return{container:h,tabbableNodes:c,focusableNodes:p,posTabIndexesFound:g,firstTabbableNode:_,lastTabbableNode:x,firstDomTabbableNode:E,lastDomTabbableNode:R,nextTabbableNode:function(y){var F=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],P=c.indexOf(y);return P<0?F?p.slice(p.indexOf(y)+1).find(function(L){return ie(L)}):p.slice(0,p.indexOf(y)).reverse().find(function(L){return ie(L)}):c[P+(F?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(h){return h.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(h){return h.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},v=function h(c){var p=c.activeElement;if(p)return p.shadowRoot&&p.shadowRoot.activeElement!==null?h(p.shadowRoot):p},m=function h(c){c!==!1&&c!==v(document)&&(c&&c.focus?(c.focus({preventScroll:!!i.preventScroll}),a.mostRecentlyFocusedNode=c,function(p){return p.tagName&&p.tagName.toLowerCase()==="input"&&typeof p.select=="function"}(c)&&c.select()):h(l()))},b=function(h){var c=d("setReturnFocus",h);return c||c!==!1&&h},w=function(h){var c=h.target,p=h.event,_=h.isBackward,x=_!==void 0&&_;c=c||be(p),f();var E=null;if(a.tabbableGroups.length>0){var R=u(c,p),g=R>=0?a.containerGroups[R]:void 0;if(R<0)E=x?a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:a.tabbableGroups[0].firstTabbableNode;else if(x){var y=st(a.tabbableGroups,function(B){var q=B.firstTabbableNode;return c===q});if(y<0&&(g.container===c||Ne(c,i.tabbableOptions)&&!ie(c,i.tabbableOptions)&&!g.nextTabbableNode(c,!1))&&(y=R),y>=0){var F=y===0?a.tabbableGroups.length-1:y-1,P=a.tabbableGroups[F];E=ne(c)>=0?P.lastTabbableNode:P.lastDomTabbableNode}else fe(p)||(E=g.nextTabbableNode(c,!1))}else{var L=st(a.tabbableGroups,function(B){var q=B.lastTabbableNode;return c===q});if(L<0&&(g.container===c||Ne(c,i.tabbableOptions)&&!ie(c,i.tabbableOptions)&&!g.nextTabbableNode(c))&&(L=R),L>=0){var $=L===a.tabbableGroups.length-1?0:L+1,z=a.tabbableGroups[$];E=ne(c)>=0?z.firstTabbableNode:z.firstDomTabbableNode}else fe(p)||(E=g.nextTabbableNode(c))}}else E=d("fallbackFocus");return E},S=function(h){var c=be(h);u(c,h)>=0||(he(i.clickOutsideDeactivates,h)?r.deactivate({returnFocus:i.returnFocusOnDeactivate}):he(i.allowOutsideClick,h)||h.preventDefault())},A=function(h){var c=be(h),p=u(c,h)>=0;if(p||c instanceof Document)p&&(a.mostRecentlyFocusedNode=c);else{var _;h.stopImmediatePropagation();var x=!0;if(a.mostRecentlyFocusedNode)if(ne(a.mostRecentlyFocusedNode)>0){var E=u(a.mostRecentlyFocusedNode),R=a.containerGroups[E].tabbableNodes;if(R.length>0){var g=R.findIndex(function(y){return y===a.mostRecentlyFocusedNode});g>=0&&(i.isKeyForward(a.recentNavEvent)?g+1<R.length&&(_=R[g+1],x=!1):g-1>=0&&(_=R[g-1],x=!1))}}else a.containerGroups.some(function(y){return y.tabbableNodes.some(function(F){return ne(F)>0})})||(x=!1);else x=!1;x&&(_=w({target:a.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(a.recentNavEvent)})),m(_||a.mostRecentlyFocusedNode||l())}a.recentNavEvent=void 0},I=function(h){if(c=h,!((c==null?void 0:c.key)!=="Escape"&&(c==null?void 0:c.key)!=="Esc"&&(c==null?void 0:c.keyCode)!==27||he(i.escapeDeactivates,h)===!1))return h.preventDefault(),void r.deactivate();var c;(i.isKeyForward(h)||i.isKeyBackward(h))&&function(p){var _=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a.recentNavEvent=p;var x=w({event:p,isBackward:_});x&&(fe(p)&&p.preventDefault(),m(x))}(h,i.isKeyBackward(h))},k=function(h){var c=be(h);u(c,h)>=0||he(i.clickOutsideDeactivates,h)||he(i.allowOutsideClick,h)||(h.preventDefault(),h.stopImmediatePropagation())},M=function(){if(a.active)return ir(o,r),a.delayInitialFocusTimer=i.delayInitialFocus?at(function(){m(l())}):m(l()),n.addEventListener("focusin",A,!0),n.addEventListener("mousedown",S,{capture:!0,passive:!1}),n.addEventListener("touchstart",S,{capture:!0,passive:!1}),n.addEventListener("click",k,{capture:!0,passive:!1}),n.addEventListener("keydown",I,{capture:!0,passive:!1}),r},D=function(){if(a.active)return n.removeEventListener("focusin",A,!0),n.removeEventListener("mousedown",S,!0),n.removeEventListener("touchstart",S,!0),n.removeEventListener("click",k,!0),n.removeEventListener("keydown",I,!0),r},N=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(function(h){h.some(function(c){return Array.from(c.removedNodes).some(function(p){return p===a.mostRecentlyFocusedNode})})&&m(l())}):void 0,C=function(){N&&(N.disconnect(),a.active&&!a.paused&&a.containers.map(function(h){N.observe(h,{subtree:!0,childList:!0})}))};return(r={get active(){return a.active},get paused(){return a.paused},activate:function(h){if(a.active)return this;var c=s(h,"onActivate"),p=s(h,"onPostActivate"),_=s(h,"checkCanFocusTrap");_||f(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=n.activeElement,c==null||c();var x=function(){_&&f(),M(),C(),p==null||p()};return _?(_(a.containers.concat()).then(x,x),this):(x(),this)},deactivate:function(h){if(!a.active)return this;var c=it({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},h);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,D(),a.active=!1,a.paused=!1,C(),ar(o,r);var p=s(c,"onDeactivate"),_=s(c,"onPostDeactivate"),x=s(c,"checkCanReturnFocus"),E=s(c,"returnFocus","returnFocusOnDeactivate");p==null||p();var R=function(){at(function(){E&&m(b(a.nodeFocusedBeforeActivation)),_==null||_()})};return E&&x?(x(b(a.nodeFocusedBeforeActivation)).then(R,R),this):(R(),this)},pause:function(h){if(a.paused||!a.active)return this;var c=s(h,"onPause"),p=s(h,"onPostPause");return a.paused=!0,c==null||c(),D(),C(),p==null||p(),this},unpause:function(h){if(!a.paused||!a.active)return this;var c=s(h,"onUnpause"),p=s(h,"onPostUnpause");return a.paused=!1,c==null||c(),f(),M(),C(),p==null||p(),this},updateContainerElements:function(h){var c=[].concat(h).filter(Boolean);return a.containers=c.map(function(p){return typeof p=="string"?n.querySelector(p):p}),a.active&&f(),C(),this}}).updateContainerElements(t),r};class se{constructor(e,r=!0,n=[],o=5e3){this.ctx=e,this.iframes=r,this.exclude=n,this.iframesTimeout=o}static matches(e,r){const n=typeof r=="string"?[r]:r,o=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;if(o){let i=!1;return n.every(a=>!o.call(e,a)||(i=!0,!1)),i}return!1}getContexts(){let e,r=[];return e=this.ctx!==void 0&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:typeof this.ctx=="string"?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[],e.forEach(n=>{const o=r.filter(i=>i.contains(n)).length>0;r.indexOf(n)!==-1||o||r.push(n)}),r}getIframeContents(e,r,n=()=>{}){let o;try{const i=e.contentWindow;if(o=i.document,!i||!o)throw new Error("iframe inaccessible")}catch{n()}o&&r(o)}isIframeBlank(e){const r="about:blank",n=e.getAttribute("src").trim();return e.contentWindow.location.href===r&&n!==r&&n}observeIframeLoad(e,r,n){let o=!1,i=null;const a=()=>{if(!o){o=!0,clearTimeout(i);try{this.isIframeBlank(e)||(e.removeEventListener("load",a),this.getIframeContents(e,r,n))}catch{n()}}};e.addEventListener("load",a),i=setTimeout(a,this.iframesTimeout)}onIframeReady(e,r,n){try{e.contentWindow.document.readyState==="complete"?this.isIframeBlank(e)?this.observeIframeLoad(e,r,n):this.getIframeContents(e,r,n):this.observeIframeLoad(e,r,n)}catch{n()}}waitForIframes(e,r){let n=0;this.forEachIframe(e,()=>!0,o=>{n++,this.waitForIframes(o.querySelector("html"),()=>{--n||r()})},o=>{o||r()})}forEachIframe(e,r,n,o=()=>{}){let i=e.querySelectorAll("iframe"),a=i.length,s=0;i=Array.prototype.slice.call(i);const u=()=>{--a<=0&&o(s)};a||u(),i.forEach(d=>{se.matches(d,this.exclude)?u():this.onIframeReady(d,l=>{r(d)&&(s++,n(l)),u()},u)})}createIterator(e,r,n){return document.createNodeIterator(e,r,n,!1)}createInstanceOnIframe(e){return new se(e.querySelector("html"),this.iframes)}compareNodeIframe(e,r,n){return!!(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING&&(r===null||r.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING))}getIteratorNode(e){const r=e.previousNode();let n;return n=(r===null||e.nextNode())&&e.nextNode(),{prevNode:r,node:n}}checkIframeFilter(e,r,n,o){let i=!1,a=!1;return o.forEach((s,u)=>{s.val===n&&(i=u,a=s.handled)}),this.compareNodeIframe(e,r,n)?(i!==!1||a?i===!1||a||(o[i].handled=!0):o.push({val:n,handled:!0}),!0):(i===!1&&o.push({val:n,handled:!1}),!1)}handleOpenIframes(e,r,n,o){e.forEach(i=>{i.handled||this.getIframeContents(i.val,a=>{this.createInstanceOnIframe(a).forEachNode(r,n,o)})})}iterateThroughNodes(e,r,n,o,i){const a=this.createIterator(r,e,o);let s,u,d=[],l=[],f=()=>({prevNode:u,node:s}=this.getIteratorNode(a),s);for(;f();)this.iframes&&this.forEachIframe(r,v=>this.checkIframeFilter(s,u,v,d),v=>{this.createInstanceOnIframe(v).forEachNode(e,m=>l.push(m),o)}),l.push(s);l.forEach(v=>{n(v)}),this.iframes&&this.handleOpenIframes(d,e,n,o),i()}forEachNode(e,r,n,o=()=>{}){const i=this.getContexts();let a=i.length;a||o(),i.forEach(s=>{const u=()=>{this.iterateThroughNodes(e,s,r,n,()=>{--a<=0&&o()})};this.iframes?this.waitForIframes(s,u):u()})}}let dr=class{constructor(t){this.ctx=t,this.ie=!1;const e=window.navigator.userAgent;(e.indexOf("MSIE")>-1||e.indexOf("Trident")>-1)&&(this.ie=!0)}set opt(t){this._opt=Object.assign({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:()=>{},noMatch:()=>{},filter:()=>!0,done:()=>{},debug:!1,log:window.console},t)}get opt(){return this._opt}get iterator(){return new se(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}log(t,e="debug"){const r=this.opt.log;this.opt.debug&&typeof r=="object"&&typeof r[e]=="function"&&r[e](`mark.js: ${t}`)}escapeStr(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}createRegExp(t){return this.opt.wildcards!=="disabled"&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),this.opt.wildcards!=="disabled"&&(t=this.createWildcardsRegExp(t)),t=this.createAccuracyRegExp(t)}createSynonymsRegExp(t){const e=this.opt.synonyms,r=this.opt.caseSensitive?"":"i",n=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(let o in e)if(e.hasOwnProperty(o)){const i=e[o],a=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(o):this.escapeStr(o),s=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(i):this.escapeStr(i);a!==""&&s!==""&&(t=t.replace(new RegExp(`(${this.escapeStr(a)}|${this.escapeStr(s)})`,`gm${r}`),n+`(${this.processSynomyms(a)}|${this.processSynomyms(s)})`+n))}return t}processSynomyms(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}setupWildcardsRegExp(t){return(t=t.replace(/(?:\\)*\?/g,e=>e.charAt(0)==="\\"?"?":"")).replace(/(?:\\)*\*/g,e=>e.charAt(0)==="\\"?"*":"")}createWildcardsRegExp(t){let e=this.opt.wildcards==="withSpaces";return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}setupIgnoreJoinersRegExp(t){return t.replace(/[^(|)\\]/g,(e,r,n)=>{let o=n.charAt(r+1);return/[(|)\\]/.test(o)||o===""?e:e+"\0"})}createJoinersRegExp(t){let e=[];const r=this.opt.ignorePunctuation;return Array.isArray(r)&&r.length&&e.push(this.escapeStr(r.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join(`[${e.join("")}]*`):t}createDiacriticsRegExp(t){const e=this.opt.caseSensitive?"":"i",r=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"];let n=[];return t.split("").forEach(o=>{r.every(i=>{if(i.indexOf(o)!==-1){if(n.indexOf(i)>-1)return!1;t=t.replace(new RegExp(`[${i}]`,`gm${e}`),`[${i}]`),n.push(i)}return!0})}),t}createMergedBlanksRegExp(t){return t.replace(/[\s]+/gim,"[\\s]+")}createAccuracyRegExp(t){let e=this.opt.accuracy,r=typeof e=="string"?e:e.value,n=typeof e=="string"?[]:e.limiters,o="";switch(n.forEach(i=>{o+=`|${this.escapeStr(i)}`}),r){case"partially":default:return`()(${t})`;case"complementary":return o="\\s"+(o||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")),`()([^${o}]*${t}[^${o}]*)`;case"exactly":return`(^|\\s${o})(${t})(?=$|\\s${o})`}}getSeparatedKeywords(t){let e=[];return t.forEach(r=>{this.opt.separateWordSearch?r.split(" ").forEach(n=>{n.trim()&&e.indexOf(n)===-1&&e.push(n)}):r.trim()&&e.indexOf(r)===-1&&e.push(r)}),{keywords:e.sort((r,n)=>n.length-r.length),length:e.length}}isNumeric(t){return Number(parseFloat(t))==t}checkRanges(t){if(!Array.isArray(t)||Object.prototype.toString.call(t[0])!=="[object Object]")return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];const e=[];let r=0;return t.sort((n,o)=>n.start-o.start).forEach(n=>{let{start:o,end:i,valid:a}=this.callNoMatchOnInvalidRanges(n,r);a&&(n.start=o,n.length=i-o,e.push(n),r=i)}),e}callNoMatchOnInvalidRanges(t,e){let r,n,o=!1;return t&&t.start!==void 0?(r=parseInt(t.start,10),n=r+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&n-e>0&&n-r>0?o=!0:(this.log(`Ignoring invalid or overlapping range: ${JSON.stringify(t)}`),this.opt.noMatch(t))):(this.log(`Ignoring invalid range: ${JSON.stringify(t)}`),this.opt.noMatch(t)),{start:r,end:n,valid:o}}checkWhitespaceRanges(t,e,r){let n,o=!0,i=r.length,a=e-i,s=parseInt(t.start,10)-a;return s=s>i?i:s,n=s+parseInt(t.length,10),n>i&&(n=i,this.log(`End range automatically set to the max value of ${i}`)),s<0||n-s<0||s>i||n>i?(o=!1,this.log(`Invalid range: ${JSON.stringify(t)}`),this.opt.noMatch(t)):r.substring(s,n).replace(/\s+/g,"")===""&&(o=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:s,end:n,valid:o}}getTextNodes(t){let e="",r=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,n=>{r.push({start:e.length,end:(e+=n.textContent).length,node:n})},n=>this.matchesExclude(n.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT,()=>{t({value:e,nodes:r})})}matchesExclude(t){return se.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}wrapRangeInTextNode(t,e,r){const n=this.opt.element?this.opt.element:"mark",o=t.splitText(e),i=o.splitText(r-e);let a=document.createElement(n);return a.setAttribute("data-markjs","true"),this.opt.className&&a.setAttribute("class",this.opt.className),a.textContent=o.textContent,o.parentNode.replaceChild(a,o),i}wrapRangeInMappedTextNode(t,e,r,n,o){t.nodes.every((i,a)=>{const s=t.nodes[a+1];if(s===void 0||s.start>e){if(!n(i.node))return!1;const u=e-i.start,d=(r>i.end?i.end:r)-i.start,l=t.value.substr(0,i.start),f=t.value.substr(d+i.start);if(i.node=this.wrapRangeInTextNode(i.node,u,d),t.value=l+f,t.nodes.forEach((v,m)=>{m>=a&&(t.nodes[m].start>0&&m!==a&&(t.nodes[m].start-=d),t.nodes[m].end-=d)}),r-=d,o(i.node.previousSibling,i.start),!(r>i.end))return!1;e=i.end}return!0})}wrapMatches(t,e,r,n,o){const i=e===0?0:e+1;this.getTextNodes(a=>{a.nodes.forEach(s=>{let u;for(s=s.node;(u=t.exec(s.textContent))!==null&&u[i]!=="";){if(!r(u[i],s))continue;let d=u.index;if(i!==0)for(let l=1;l<i;l++)d+=u[l].length;s=this.wrapRangeInTextNode(s,d,d+u[i].length),n(s.previousSibling),t.lastIndex=0}}),o()})}wrapMatchesAcrossElements(t,e,r,n,o){const i=e===0?0:e+1;this.getTextNodes(a=>{let s;for(;(s=t.exec(a.value))!==null&&s[i]!=="";){let u=s.index;if(i!==0)for(let l=1;l<i;l++)u+=s[l].length;const d=u+s[i].length;this.wrapRangeInMappedTextNode(a,u,d,l=>r(s[i],l),(l,f)=>{t.lastIndex=f,n(l)})}o()})}wrapRangeFromIndex(t,e,r,n){this.getTextNodes(o=>{const i=o.value.length;t.forEach((a,s)=>{let{start:u,end:d,valid:l}=this.checkWhitespaceRanges(a,i,o.value);l&&this.wrapRangeInMappedTextNode(o,u,d,f=>e(f,a,o.value.substring(u,d),s),f=>{r(f,a)})}),n()})}unwrapMatches(t){const e=t.parentNode;let r=document.createDocumentFragment();for(;t.firstChild;)r.appendChild(t.removeChild(t.firstChild));e.replaceChild(r,t),this.ie?this.normalizeTextNode(e):e.normalize()}normalizeTextNode(t){if(t){if(t.nodeType===3)for(;t.nextSibling&&t.nextSibling.nodeType===3;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}markRegExp(t,e){this.opt=e,this.log(`Searching with expression "${t}"`);let r=0,n="wrapMatches";this.opt.acrossElements&&(n="wrapMatchesAcrossElements"),this[n](t,this.opt.ignoreGroups,(o,i)=>this.opt.filter(i,o,r),o=>{r++,this.opt.each(o)},()=>{r===0&&this.opt.noMatch(t),this.opt.done(r)})}mark(t,e){this.opt=e;let r=0,n="wrapMatches";const{keywords:o,length:i}=this.getSeparatedKeywords(typeof t=="string"?[t]:t),a=this.opt.caseSensitive?"":"i",s=u=>{let d=new RegExp(this.createRegExp(u),`gm${a}`),l=0;this.log(`Searching with expression "${d}"`),this[n](d,1,(f,v)=>this.opt.filter(v,u,r,l),f=>{l++,r++,this.opt.each(f)},()=>{l===0&&this.opt.noMatch(u),o[i-1]===u?this.opt.done(r):s(o[o.indexOf(u)+1])})};this.opt.acrossElements&&(n="wrapMatchesAcrossElements"),i===0?this.opt.done(r):s(o[0])}markRanges(t,e){this.opt=e;let r=0,n=this.checkRanges(t);n&&n.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(n)),this.wrapRangeFromIndex(n,(o,i,a,s)=>this.opt.filter(o,i,a,s),(o,i)=>{r++,this.opt.each(o,i)},()=>{this.opt.done(r)})):this.opt.done(r)}unmark(t){this.opt=t;let e=this.opt.element?this.opt.element:"*";e+="[data-markjs]",this.opt.className&&(e+=`.${this.opt.className}`),this.log(`Removal selector "${e}"`),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,r=>{this.unwrapMatches(r)},r=>{const n=se.matches(r,e),o=this.matchesExclude(r);return!n||o?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}};function hr(t){const e=new dr(t);return this.mark=(r,n)=>(e.mark(r,n),this),this.markRegExp=(r,n)=>(e.markRegExp(r,n),this),this.markRanges=(r,n)=>(e.markRanges(r,n),this),this.unmark=r=>(e.unmark(r),this),this}var j=function(){return j=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},j.apply(this,arguments)};function fr(t,e,r,n){return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(l){i(l)}}function s(d){try{u(n.throw(d))}catch(l){i(l)}}function u(d){var l;d.done?o(d.value):(l=d.value,l instanceof r?l:new r(function(f){f(l)})).then(a,s)}u((n=n.apply(t,[])).next())})}function pr(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(d){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&l[0]?n.return:l[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;switch(n=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!((o=o.length>0&&o[o.length-1])||l[0]!==6&&l[0]!==2)){a=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(l[0]===6&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(f){l=[6,f],n=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,d])}}}function T(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function V(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}var we,mt="KEYS",yt="VALUES",G="",Te=function(){function t(e,r){var n=e._tree,o=Array.from(n.keys());this.set=e,this._type=r,this._path=o.length>0?[{node:n,keys:o}]:[]}return t.prototype.next=function(){var e=this.dive();return this.backtrack(),e},t.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var e=ae(this._path),r=e.node,n=e.keys;if(ae(n)===G)return{done:!1,value:this.result()};var o=r.get(ae(n));return this._path.push({node:o,keys:Array.from(o.keys())}),this.dive()},t.prototype.backtrack=function(){if(this._path.length!==0){var e=ae(this._path).keys;e.pop(),e.length>0||(this._path.pop(),this.backtrack())}},t.prototype.key=function(){return this.set._prefix+this._path.map(function(e){var r=e.keys;return ae(r)}).filter(function(e){return e!==G}).join("")},t.prototype.value=function(){return ae(this._path).node.get(G)},t.prototype.result=function(){switch(this._type){case yt:return this.value();case mt:return this.key();default:return[this.key(),this.value()]}},t.prototype[Symbol.iterator]=function(){return this},t}(),ae=function(t){return t[t.length-1]},gt=function(t,e,r,n,o,i,a,s){var u,d,l=i*a;try{e:for(var f=T(t.keys()),v=f.next();!v.done;v=f.next()){var m=v.value;if(m===G){var b=o[l-1];b<=r&&n.set(s,[t.get(m),b])}else{for(var w=i,S=0;S<m.length;++S,++w){for(var A=m[S],I=a*w,k=I-a,M=o[I],D=Math.max(0,w-r-1),N=Math.min(a-1,w+r),C=D;C<N;++C){var h=A!==e[C],c=o[k+C]+ +h,p=o[k+C+1]+1,_=o[I+C]+1,x=o[I+C+1]=Math.min(c,p,_);x<M&&(M=x)}if(M>r)continue e}gt(t.get(m),e,r,n,o,w,a,s+m)}}}catch(E){u={error:E}}finally{try{v&&!v.done&&(d=f.return)&&d.call(f)}finally{if(u)throw u.error}}},Oe=function(){function t(e,r){e===void 0&&(e=new Map),r===void 0&&(r=""),this._size=void 0,this._tree=e,this._prefix=r}return t.prototype.atPrefix=function(e){var r,n;if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");var o=V(Ie(this._tree,e.slice(this._prefix.length)),2),i=o[0],a=o[1];if(i===void 0){var s=V(Be(a),2),u=s[0],d=s[1];try{for(var l=T(u.keys()),f=l.next();!f.done;f=l.next()){var v=f.value;if(v!==G&&v.startsWith(d)){var m=new Map;return m.set(v.slice(d.length),u.get(v)),new t(m,e)}}}catch(b){r={error:b}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}return new t(i,e)},t.prototype.clear=function(){this._size=void 0,this._tree.clear()},t.prototype.delete=function(e){return this._size=void 0,vr(this._tree,e)},t.prototype.entries=function(){return new Te(this,"ENTRIES")},t.prototype.forEach=function(e){var r,n;try{for(var o=T(this),i=o.next();!i.done;i=o.next()){var a=V(i.value,2);e(a[0],a[1],this)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},t.prototype.fuzzyGet=function(e,r){return function(n,o,i){var a=new Map;if(o===void 0)return a;for(var s=o.length+1,u=s+i,d=new Uint8Array(u*s).fill(i+1),l=0;l<s;++l)d[l]=l;for(var f=1;f<u;++f)d[f*s]=f;return gt(n,o,i,a,d,1,s,""),a}(this._tree,e,r)},t.prototype.get=function(e){var r=Pe(this._tree,e);return r!==void 0?r.get(G):void 0},t.prototype.has=function(e){var r=Pe(this._tree,e);return r!==void 0&&r.has(G)},t.prototype.keys=function(){return new Te(this,mt)},t.prototype.set=function(e,r){if(typeof e!="string")throw new Error("key must be a string");return this._size=void 0,De(this._tree,e).set(G,r),this},Object.defineProperty(t.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),t.prototype.update=function(e,r){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=De(this._tree,e);return n.set(G,r(n.get(G))),this},t.prototype.fetch=function(e,r){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=De(this._tree,e),o=n.get(G);return o===void 0&&n.set(G,o=r()),o},t.prototype.values=function(){return new Te(this,yt)},t.prototype[Symbol.iterator]=function(){return this.entries()},t.from=function(e){var r,n,o=new t;try{for(var i=T(e),a=i.next();!a.done;a=i.next()){var s=V(a.value,2),u=s[0],d=s[1];o.set(u,d)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},t.fromObject=function(e){return t.from(Object.entries(e))},t}(),Ie=function(t,e,r){var n,o;if(r===void 0&&(r=[]),e.length===0||t==null)return[t,r];try{for(var i=T(t.keys()),a=i.next();!a.done;a=i.next()){var s=a.value;if(s!==G&&e.startsWith(s))return r.push([t,s]),Ie(t.get(s),e.slice(s.length),r)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return r.push([t,e]),Ie(void 0,"",r)},Pe=function(t,e){var r,n;if(e.length===0||t==null)return t;try{for(var o=T(t.keys()),i=o.next();!i.done;i=o.next()){var a=i.value;if(a!==G&&e.startsWith(a))return Pe(t.get(a),e.slice(a.length))}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},De=function(t,e){var r,n,o=e.length;e:for(var i=0;t&&i<o;){try{for(var a=(r=void 0,T(t.keys())),s=a.next();!s.done;s=a.next()){var u=s.value;if(u!==G&&e[i]===u[0]){for(var d=Math.min(o-i,u.length),l=1;l<d&&e[i+l]===u[l];)++l;var f=t.get(u);if(l===u.length)t=f;else{var v=new Map;v.set(u.slice(l),f),t.set(e.slice(i,i+l),v),t.delete(u),t=v}i+=l;continue e}}}catch(b){r={error:b}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}var m=new Map;return t.set(e.slice(i),m),m}return t},vr=function(t,e){var r=V(Ie(t,e),2),n=r[0],o=r[1];if(n!==void 0){if(n.delete(G),n.size===0)bt(o);else if(n.size===1){var i=V(n.entries().next().value,2),a=i[0],s=i[1];wt(o,a,s)}}},bt=function(t){if(t.length!==0){var e=V(Be(t),2),r=e[0],n=e[1];if(r.delete(n),r.size===0)bt(t.slice(0,-1));else if(r.size===1){var o=V(r.entries().next().value,2),i=o[0],a=o[1];i!==G&&wt(t.slice(0,-1),i,a)}}},wt=function(t,e,r){if(t.length!==0){var n=V(Be(t),2),o=n[0],i=n[1];o.set(i+e,r),o.delete(i)}},Be=function(t){return t[t.length-1]},$e="or",mr=function(){function t(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');var r=e.autoVacuum==null||e.autoVacuum===!0?Le:e.autoVacuum;this._options=j(j(j({},Me),e),{autoVacuum:r,searchOptions:j(j({},ut),e.searchOptions||{}),autoSuggestOptions:j(j({},wr),e.autoSuggestOptions||{})}),this._index=new Oe,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=Ve,this.addFields(this._options.fields)}return t.prototype.add=function(e){var r,n,o,i,a,s,u=this._options,d=u.extractField,l=u.tokenize,f=u.processTerm,v=u.fields,m=u.idField,b=d(e,m);if(b==null)throw new Error('MiniSearch: document does not have ID field "'.concat(m,'"'));if(this._idToShortId.has(b))throw new Error("MiniSearch: duplicate ID ".concat(b));var w=this.addDocumentId(b);this.saveStoredFields(w,e);try{for(var S=T(v),A=S.next();!A.done;A=S.next()){var I=A.value,k=d(e,I);if(k!=null){var M=l(k.toString(),I),D=this._fieldIds[I],N=new Set(M).size;this.addFieldLength(w,D,this._documentCount-1,N);try{for(var C=(o=void 0,T(M)),h=C.next();!h.done;h=C.next()){var c=f(h.value,I);if(Array.isArray(c))try{for(var p=(a=void 0,T(c)),_=p.next();!_.done;_=p.next()){var x=_.value;this.addTerm(D,w,x)}}catch(E){a={error:E}}finally{try{_&&!_.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}else c&&this.addTerm(D,w,c)}}catch(E){o={error:E}}finally{try{h&&!h.done&&(i=C.return)&&i.call(C)}finally{if(o)throw o.error}}}}}catch(E){r={error:E}}finally{try{A&&!A.done&&(n=S.return)&&n.call(S)}finally{if(r)throw r.error}}},t.prototype.addAll=function(e){var r,n;try{for(var o=T(e),i=o.next();!i.done;i=o.next()){var a=i.value;this.add(a)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},t.prototype.addAllAsync=function(e,r){var n=this;r===void 0&&(r={});var o=r.chunkSize,i=o===void 0?10:o,a={chunk:[],promise:Promise.resolve()},s=e.reduce(function(d,l,f){var v=d.chunk,m=d.promise;return v.push(l),(f+1)%i==0?{chunk:[],promise:m.then(function(){return new Promise(function(b){return setTimeout(b,0)})}).then(function(){return n.addAll(v)})}:{chunk:v,promise:m}},a),u=s.chunk;return s.promise.then(function(){return n.addAll(u)})},t.prototype.remove=function(e){var r,n,o,i,a,s,u=this._options,d=u.tokenize,l=u.processTerm,f=u.extractField,v=u.fields,m=u.idField,b=f(e,m);if(b==null)throw new Error('MiniSearch: document does not have ID field "'.concat(m,'"'));var w=this._idToShortId.get(b);if(w==null)throw new Error("MiniSearch: cannot remove document with ID ".concat(b,": it is not in the index"));try{for(var S=T(v),A=S.next();!A.done;A=S.next()){var I=A.value,k=f(e,I);if(k!=null){var M=d(k.toString(),I),D=this._fieldIds[I],N=new Set(M).size;this.removeFieldLength(w,D,this._documentCount,N);try{for(var C=(o=void 0,T(M)),h=C.next();!h.done;h=C.next()){var c=l(h.value,I);if(Array.isArray(c))try{for(var p=(a=void 0,T(c)),_=p.next();!_.done;_=p.next()){var x=_.value;this.removeTerm(D,w,x)}}catch(E){a={error:E}}finally{try{_&&!_.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}else c&&this.removeTerm(D,w,c)}}catch(E){o={error:E}}finally{try{h&&!h.done&&(i=C.return)&&i.call(C)}finally{if(o)throw o.error}}}}}catch(E){r={error:E}}finally{try{A&&!A.done&&(n=S.return)&&n.call(S)}finally{if(r)throw r.error}}this._storedFields.delete(w),this._documentIds.delete(w),this._idToShortId.delete(b),this._fieldLength.delete(w),this._documentCount-=1},t.prototype.removeAll=function(e){var r,n;if(e)try{for(var o=T(e),i=o.next();!i.done;i=o.next()){var a=i.value;this.remove(a)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new Oe,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},t.prototype.discard=function(e){var r=this,n=this._idToShortId.get(e);if(n==null)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach(function(o,i){r.removeFieldLength(n,i,r._documentCount,o)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},t.prototype.maybeAutoVacuum=function(){if(this._options.autoVacuum!==!1){var e=this._options.autoVacuum,r=e.minDirtFactor,n=e.minDirtCount,o=e.batchSize,i=e.batchWait;this.conditionalVacuum({batchSize:o,batchWait:i},{minDirtCount:n,minDirtFactor:r})}},t.prototype.discardAll=function(e){var r,n,o=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var i=T(e),a=i.next();!a.done;a=i.next()){var s=a.value;this.discard(s)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}finally{this._options.autoVacuum=o}this.maybeAutoVacuum()},t.prototype.replace=function(e){var r=this._options,n=r.idField,o=(0,r.extractField)(e,n);this.discard(o),this.add(e)},t.prototype.vacuum=function(e){return e===void 0&&(e={}),this.conditionalVacuum(e)},t.prototype.conditionalVacuum=function(e,r){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&r,this._enqueuedVacuum!=null||(this._enqueuedVacuum=this._currentVacuum.then(function(){var o=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=Ve,n.performVacuuming(e,o)})),this._enqueuedVacuum):this.vacuumConditionsMet(r)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)},t.prototype.performVacuuming=function(e,r){return fr(this,0,void 0,function(){var n,o,i,a,s,u,d,l,f,v,m,b,w,S,A,I,k,M,D,N,C,h,c,p,_;return pr(this,function(x){switch(x.label){case 0:if(n=this._dirtCount,!this.vacuumConditionsMet(r))return[3,10];o=e.batchSize||je.batchSize,i=e.batchWait||je.batchWait,a=1,x.label=1;case 1:x.trys.push([1,7,8,9]),s=T(this._index),u=s.next(),x.label=2;case 2:if(u.done)return[3,6];d=V(u.value,2),l=d[0],f=d[1];try{for(h=void 0,v=T(f),m=v.next();!m.done;m=v.next()){b=V(m.value,2),w=b[0],S=b[1];try{for(p=void 0,A=T(S),I=A.next();!I.done;I=A.next())k=V(I.value,1),M=k[0],this._documentIds.has(M)||(S.size<=1?f.delete(w):S.delete(M))}catch(E){p={error:E}}finally{try{I&&!I.done&&(_=A.return)&&_.call(A)}finally{if(p)throw p.error}}}}catch(E){h={error:E}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(h)throw h.error}}return this._index.get(l).size===0&&this._index.delete(l),a%o!=0?[3,4]:[4,new Promise(function(E){return setTimeout(E,i)})];case 3:x.sent(),x.label=4;case 4:a+=1,x.label=5;case 5:return u=s.next(),[3,2];case 6:return[3,9];case 7:return D=x.sent(),N={error:D},[3,9];case 8:try{u&&!u.done&&(C=s.return)&&C.call(s)}finally{if(N)throw N.error}return[7];case 9:this._dirtCount-=n,x.label=10;case 10:return[4,null];case 11:return x.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},t.prototype.vacuumConditionsMet=function(e){if(e==null)return!0;var r=e.minDirtCount,n=e.minDirtFactor;return r=r||Le.minDirtCount,n=n||Le.minDirtFactor,this.dirtCount>=r&&this.dirtFactor>=n},Object.defineProperty(t.prototype,"isVacuuming",{get:function(){return this._currentVacuum!=null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),t.prototype.has=function(e){return this._idToShortId.has(e)},t.prototype.getStoredFields=function(e){var r=this._idToShortId.get(e);if(r!=null)return this._storedFields.get(r)},t.prototype.search=function(e,r){var n,o;r===void 0&&(r={});var i=this.executeQuery(e,r),a=[];try{for(var s=T(i),u=s.next();!u.done;u=s.next()){var d=V(u.value,2),l=d[0],f=d[1],v=f.score,m=f.terms,b=f.match,w=m.length||1,S={id:this._documentIds.get(l),score:v*w,terms:Object.keys(b),queryTerms:m,match:b};Object.assign(S,this._storedFields.get(l)),(r.filter==null||r.filter(S))&&a.push(S)}}catch(A){n={error:A}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return e===t.wildcard&&r.boostDocument==null&&this._options.searchOptions.boostDocument==null||a.sort(ct),a},t.prototype.autoSuggest=function(e,r){var n,o,i,a;r===void 0&&(r={}),r=j(j({},this._options.autoSuggestOptions),r);var s=new Map;try{for(var u=T(this.search(e,r)),d=u.next();!d.done;d=u.next()){var l=d.value,f=l.score,v=(k=l.terms).join(" ");(A=s.get(v))!=null?(A.score+=f,A.count+=1):s.set(v,{score:f,terms:k,count:1})}}catch(D){n={error:D}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}var m=[];try{for(var b=T(s),w=b.next();!w.done;w=b.next()){var S=V(w.value,2),A=S[0],I=S[1],k=(f=I.score,I.terms),M=I.count;m.push({suggestion:A,terms:k,score:f/M})}}catch(D){i={error:D}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}return m.sort(ct),m},Object.defineProperty(t.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),t.loadJSON=function(e,r){if(r==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),r)},t.getDefault=function(e){if(Me.hasOwnProperty(e))return Re(Me,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))},t.loadJS=function(e,r){var n,o,i,a,s,u,d=e.index,l=e.documentCount,f=e.nextId,v=e.documentIds,m=e.fieldIds,b=e.fieldLength,w=e.averageFieldLength,S=e.storedFields,A=e.dirtCount,I=e.serializationVersion;if(I!==1&&I!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var k=new t(r);k._documentCount=l,k._nextId=f,k._documentIds=xe(v),k._idToShortId=new Map,k._fieldIds=m,k._fieldLength=xe(b),k._avgFieldLength=w,k._storedFields=xe(S),k._dirtCount=A||0,k._index=new Oe;try{for(var M=T(k._documentIds),D=M.next();!D.done;D=M.next()){var N=V(D.value,2),C=N[0],h=N[1];k._idToShortId.set(h,C)}}catch(L){n={error:L}}finally{try{D&&!D.done&&(o=M.return)&&o.call(M)}finally{if(n)throw n.error}}try{for(var c=T(d),p=c.next();!p.done;p=c.next()){var _=V(p.value,2),x=_[0],E=_[1],R=new Map;try{for(var g=(s=void 0,T(Object.keys(E))),y=g.next();!y.done;y=g.next()){var F=y.value,P=E[F];I===1&&(P=P.ds),R.set(parseInt(F,10),xe(P))}}catch(L){s={error:L}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}k._index.set(x,R)}}catch(L){i={error:L}}finally{try{p&&!p.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return k},t.prototype.executeQuery=function(e,r){var n=this;if(r===void 0&&(r={}),e===t.wildcard)return this.executeWildcardQuery(r);if(typeof e!="string"){var o=j(j(j({},r),e),{queries:void 0}),i=e.queries.map(function(b){return n.executeQuery(b,o)});return this.combineResults(i,o.combineWith)}var a=this._options,s=a.tokenize,u=a.processTerm,d=a.searchOptions,l=j(j({tokenize:s,processTerm:u},d),r),f=l.tokenize,v=l.processTerm,m=f(e).flatMap(function(b){return v(b)}).filter(function(b){return!!b}).map(br(l)).map(function(b){return n.executeQuerySpec(b,l)});return this.combineResults(m,l.combineWith)},t.prototype.executeQuerySpec=function(e,r){var n,o,i,a,s,u,d=j(j({},this._options.searchOptions),r),l=(d.fields||this._options.fields).reduce(function(F,P){var L;return j(j({},F),((L={})[P]=Re(d.boost,P)||1,L))},{}),f=d.boostDocument,v=d.weights,m=d.maxFuzzy,b=d.bm25,w=j(j({},ut.weights),v),S=w.fuzzy,A=w.prefix,I=this._index.get(e.term),k=this.termResults(e.term,e.term,1,I,l,f,b);if(e.prefix&&(s=this._index.atPrefix(e.term)),e.fuzzy){var M=e.fuzzy===!0?.2:e.fuzzy,D=M<1?Math.min(m,Math.round(e.term.length*M)):M;D&&(u=this._index.fuzzyGet(e.term,D))}if(s)try{for(var N=T(s),C=N.next();!C.done;C=N.next()){var h=V(C.value,2),c=h[0],p=h[1];if(R=c.length-e.term.length){u==null||u.delete(c);var _=A*c.length/(c.length+.3*R);this.termResults(e.term,c,_,p,l,f,b,k)}}}catch(F){n={error:F}}finally{try{C&&!C.done&&(o=N.return)&&o.call(N)}finally{if(n)throw n.error}}if(u)try{for(var x=T(u.keys()),E=x.next();!E.done;E=x.next()){c=E.value;var R,g=V(u.get(c),2),y=g[0];(R=g[1])&&(_=S*c.length/(c.length+R),this.termResults(e.term,c,_,y,l,f,b,k))}}catch(F){i={error:F}}finally{try{E&&!E.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}return k},t.prototype.executeWildcardQuery=function(e){var r,n,o=new Map,i=j(j({},this._options.searchOptions),e);try{for(var a=T(this._documentIds),s=a.next();!s.done;s=a.next()){var u=V(s.value,2),d=u[0],l=u[1],f=i.boostDocument?i.boostDocument(l,"",this._storedFields.get(d)):1;o.set(d,{score:f,terms:[],match:{}})}}catch(v){r={error:v}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},t.prototype.combineResults=function(e,r){if(r===void 0&&(r=$e),e.length===0)return new Map;var n=r.toLowerCase();return e.reduce(yr[n])||new Map},t.prototype.toJSON=function(){var e,r,n,o,i=[];try{for(var a=T(this._index),s=a.next();!s.done;s=a.next()){var u=V(s.value,2),d=u[0],l=u[1],f={};try{for(var v=(n=void 0,T(l)),m=v.next();!m.done;m=v.next()){var b=V(m.value,2),w=b[0],S=b[1];f[w]=Object.fromEntries(S)}}catch(A){n={error:A}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}i.push([d,f])}}catch(A){e={error:A}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:i,serializationVersion:2}},t.prototype.termResults=function(e,r,n,o,i,a,s,u){var d,l,f,v,m;if(u===void 0&&(u=new Map),o==null)return u;try{for(var b=T(Object.keys(i)),w=b.next();!w.done;w=b.next()){var S=w.value,A=i[S],I=this._fieldIds[S],k=o.get(I);if(k!=null){var M=k.size,D=this._avgFieldLength[I];try{for(var N=(f=void 0,T(k.keys())),C=N.next();!C.done;C=N.next()){var h=C.value;if(this._documentIds.has(h)){var c=a?a(this._documentIds.get(h),r,this._storedFields.get(h)):1;if(c){var p=k.get(h),_=this._fieldLength.get(h)[I],x=n*A*c*gr(p,M,this._documentCount,_,D,s),E=u.get(h);if(E){E.score+=x,xr(E.terms,e);var R=Re(E.match,r);R?R.push(S):E.match[r]=[S]}else u.set(h,{score:x,terms:[e],match:(m={},m[r]=[S],m)})}}else this.removeTerm(I,h,r),M-=1}}catch(g){f={error:g}}finally{try{C&&!C.done&&(v=N.return)&&v.call(N)}finally{if(f)throw f.error}}}}}catch(g){d={error:g}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(d)throw d.error}}return u},t.prototype.addTerm=function(e,r,n){var o=this._index.fetch(n,dt),i=o.get(e);if(i==null)(i=new Map).set(r,1),o.set(e,i);else{var a=i.get(r);i.set(r,(a||0)+1)}},t.prototype.removeTerm=function(e,r,n){if(this._index.has(n)){var o=this._index.fetch(n,dt),i=o.get(e);i==null||i.get(r)==null?this.warnDocumentChanged(r,e,n):i.get(r)<=1?i.size<=1?o.delete(e):i.delete(r):i.set(r,i.get(r)-1),this._index.get(n).size===0&&this._index.delete(n)}else this.warnDocumentChanged(r,e,n)},t.prototype.warnDocumentChanged=function(e,r,n){var o,i;try{for(var a=T(Object.keys(this._fieldIds)),s=a.next();!s.done;s=a.next()){var u=s.value;if(this._fieldIds[u]===r)return void this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(n,'" was not present in field "').concat(u,'". Removing a document after it has changed can corrupt the index!'),"version_conflict")}}catch(d){o={error:d}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}},t.prototype.addDocumentId=function(e){var r=this._nextId;return this._idToShortId.set(e,r),this._documentIds.set(r,e),this._documentCount+=1,this._nextId+=1,r},t.prototype.addFields=function(e){for(var r=0;r<e.length;r++)this._fieldIds[e[r]]=r},t.prototype.addFieldLength=function(e,r,n,o){var i=this._fieldLength.get(e);i==null&&this._fieldLength.set(e,i=[]),i[r]=o;var a=(this._avgFieldLength[r]||0)*n+o;this._avgFieldLength[r]=a/(n+1)},t.prototype.removeFieldLength=function(e,r,n,o){if(n!==1){var i=this._avgFieldLength[r]*n-o;this._avgFieldLength[r]=i/(n-1)}else this._avgFieldLength[r]=0},t.prototype.saveStoredFields=function(e,r){var n,o,i=this._options,a=i.storeFields,s=i.extractField;if(a!=null&&a.length!==0){var u=this._storedFields.get(e);u==null&&this._storedFields.set(e,u={});try{for(var d=T(a),l=d.next();!l.done;l=d.next()){var f=l.value,v=s(r,f);v!==void 0&&(u[f]=v)}}catch(m){n={error:m}}finally{try{l&&!l.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}},t.wildcard=Symbol("*"),t}(),Re=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},yr=((we={})[$e]=function(t,e){var r,n;try{for(var o=T(e.keys()),i=o.next();!i.done;i=o.next()){var a=i.value,s=t.get(a);if(s==null)t.set(a,e.get(a));else{var u=e.get(a),d=u.score,l=u.terms,f=u.match;s.score=s.score+d,s.match=Object.assign(s.match,f),lt(s.terms,l)}}}catch(v){r={error:v}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return t},we.and=function(t,e){var r,n,o=new Map;try{for(var i=T(e.keys()),a=i.next();!a.done;a=i.next()){var s=a.value,u=t.get(s);if(u!=null){var d=e.get(s),l=d.score,f=d.terms,v=d.match;lt(u.terms,f),o.set(s,{score:u.score+l,terms:u.terms,match:Object.assign(u.match,v)})}}}catch(m){r={error:m}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},we.and_not=function(t,e){var r,n;try{for(var o=T(e.keys()),i=o.next();!i.done;i=o.next()){var a=i.value;t.delete(a)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return t},we),gr=function(t,e,r,n,o,i){var a=i.k,s=i.b,u=i.d;return Math.log(1+(r-e+.5)/(e+.5))*(u+t*(a+1)/(t+a*(1-s+s*n/o)))},br=function(t){return function(e,r,n){return{term:e,fuzzy:typeof t.fuzzy=="function"?t.fuzzy(e,r,n):t.fuzzy||!1,prefix:typeof t.prefix=="function"?t.prefix(e,r,n):t.prefix===!0}}},Me={idField:"id",extractField:function(t,e){return t[e]},tokenize:function(t){return t.split(Fr)},processTerm:function(t){return t.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(t,e){console==null||console[t]},autoVacuum:!0},ut={combineWith:$e,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:{k:1.2,b:.7,d:.5}},wr={combineWith:"and",prefix:function(t,e,r){return e===r.length-1}},je={batchSize:1e3,batchWait:10},Ve={minDirtFactor:.1,minDirtCount:20},Le=j(j({},je),Ve),xr=function(t,e){t.includes(e)||t.push(e)},lt=function(t,e){var r,n;try{for(var o=T(e),i=o.next();!i.done;i=o.next()){var a=i.value;t.includes(a)||t.push(a)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},ct=function(t,e){var r=t.score;return e.score-r},dt=function(){return new Map},xe=function(t){var e,r,n=new Map;try{for(var o=T(Object.keys(t)),i=o.next();!i.done;i=o.next()){var a=i.value;n.set(parseInt(a,10),t[a])}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},Fr=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;class Er{constructor(e=10){Ae(this,"max");Ae(this,"cache");this.max=e,this.cache=new Map}get(e){let r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){this.cache.has(e)?this.cache.delete(e):this.cache.size===this.max&&this.cache.delete(this.first()),this.cache.set(e,r)}first(){return this.cache.keys().next().value}clear(){this.cache.clear()}}const Y=t=>($t("data-v-639d7ab9"),t=t(),Wt(),t),_r=["aria-owns"],Sr={class:"shell"},Ir=["title"],Ar=[Y(()=>O("span",{"aria-hidden":"true",class:"vpi-search search-icon local-search-icon"},null,-1))],kr={class:"search-actions before"},Cr=["title"],Nr=[Y(()=>O("span",{class:"vpi-arrow-left local-search-icon"},null,-1))],Tr=["placeholder"],Or={class:"search-actions"},Dr=["title"],Rr=[Y(()=>O("span",{class:"vpi-layout-list local-search-icon"},null,-1))],Mr=["disabled","title"],Lr=[Y(()=>O("span",{class:"vpi-delete local-search-icon"},null,-1))],zr=["id","role","aria-labelledby"],Pr=["aria-selected"],jr=["href","aria-label","onMouseenter","onFocusin"],Vr={class:"titles"},Br=Y(()=>O("span",{class:"title-icon"},"#",-1)),$r=["innerHTML"],Wr=Y(()=>O("span",{class:"vpi-chevron-right local-search-icon"},null,-1)),Gr={class:"title main"},qr=["innerHTML"],Jr={key:0,class:"excerpt-wrapper"},Kr={key:0,class:"excerpt",inert:""},Ur=["innerHTML"],Hr=Y(()=>O("div",{class:"excerpt-gradient-bottom"},null,-1)),Qr=Y(()=>O("div",{class:"excerpt-gradient-top"},null,-1)),Yr={key:0,class:"no-results"},Xr={class:"search-keyboard-shortcuts"},Zr=["aria-label"],en=[Y(()=>O("span",{class:"vpi-arrow-up navigate-icon"},null,-1))],tn=["aria-label"],rn=[Y(()=>O("span",{class:"vpi-arrow-down navigate-icon"},null,-1))],nn=["aria-label"],on=[Y(()=>O("span",{class:"vpi-corner-down-left navigate-icon"},null,-1))],an=["aria-label"],cn=Ut(It({__name:"VPLocalSearchBox",emits:["close"],setup(t,{emit:e}){var E,R;const r=e,n=ve(),o=ve(),i=ve(Yt),a=Ht(),{activate:s}=function(g,y={}){let F;const{immediate:P,...L}=y,$=re(!1),z=re(!1),B=H=>F&&F.activate(H),q=H=>F&&F.deactivate(H);return ke(()=>_t(g),H=>{H&&(F=cr(H,{...L,onActivate(){$.value=!0,y.onActivate&&y.onActivate()},onDeactivate(){$.value=!1,y.onDeactivate&&y.onDeactivate()}}),P&&B())},{flush:"post"}),St(()=>q()),{hasFocus:$,isPaused:z,activate:B,deactivate:q,pause:()=>{F&&(F.pause(),z.value=!0)},unpause:()=>{F&&(F.unpause(),z.value=!1)}}}(n,{immediate:!0,allowOutsideClick:!0,clickOutsideDeactivates:!0,escapeDeactivates:!0}),{localeIndex:u,theme:d}=a,l=Qe(async()=>{var g,y,F,P,L,$,z,B,q;return et(mr.loadJSON((F=await((y=(g=i.value)[u.value])==null?void 0:y.call(g)))==null?void 0:F.default,{fields:["title","titles","text"],storeFields:["title","titles"],searchOptions:{fuzzy:.2,prefix:!0,boost:{title:4,text:2,titles:1},...((P=d.value.search)==null?void 0:P.provider)==="local"&&(($=(L=d.value.search.options)==null?void 0:L.miniSearch)==null?void 0:$.searchOptions)},...((z=d.value.search)==null?void 0:z.provider)==="local"&&((q=(B=d.value.search.options)==null?void 0:B.miniSearch)==null?void 0:q.options)}))}),f=me(()=>{var g,y;return((g=d.value.search)==null?void 0:g.provider)==="local"&&((y=d.value.search.options)==null?void 0:y.disableQueryPersistence)===!0}).value?re(""):At("vitepress:local-search-filter",""),v=kt("vitepress:local-search-detailed-list",((E=d.value.search)==null?void 0:E.provider)==="local"&&((R=d.value.search.options)==null?void 0:R.detailedView)===!0),m=me(()=>{var g,y,F;return((g=d.value.search)==null?void 0:g.provider)==="local"&&(((y=d.value.search.options)==null?void 0:y.disableDetailedView)===!0||((F=d.value.search.options)==null?void 0:F.detailedView)===!1)}),b=me(()=>{var y,F,P,L,$,z,B;const g=((y=d.value.search)==null?void 0:y.options)??d.value.algolia;return(($=(L=(P=(F=g==null?void 0:g.locales)==null?void 0:F[u.value])==null?void 0:P.translations)==null?void 0:L.button)==null?void 0:$.buttonText)||((B=(z=g==null?void 0:g.translations)==null?void 0:z.button)==null?void 0:B.buttonText)||"Search"});Ct(()=>{m.value&&(v.value=!1)});const w=ve([]),S=re(!1);ke(f,()=>{S.value=!1});const A=Qe(async()=>{if(o.value)return et(new hr(o.value))},null),I=new Er(16);Nt(()=>[l.value,f.value,v.value],async([g,y,F],P,L)=>{var H,We,Ge,qe;(P==null?void 0:P[0])!==g&&I.clear();let $=!1;if(L(()=>{$=!0}),!g)return;w.value=g.search(y).slice(0,16),S.value=!0;const z=F?await Promise.all(w.value.map(U=>async function(J){const X=Jt(J.slice(0,J.indexOf("#")));try{if(!X)throw new Error(`Cannot find file for id: ${J}`);return{id:J,mod:await import(X)}}catch{return{id:J,mod:{}}}}(U.id))):[];if($)return;for(const{id:U,mod:J}of z){const X=U.slice(0,U.indexOf("#"));let Q=I.get(X);if(Q)continue;Q=new Map,I.set(X,Q);const K=J.default??J;if(K!=null&&K.render||K!=null&&K.setup){const Z=Gt(K);Z.config.warnHandler=()=>{},Z.provide(qt,a),Object.defineProperties(Z.config.globalProperties,{$frontmatter:{get:()=>a.frontmatter.value},$params:{get:()=>a.page.value.params}});const Je=document.createElement("div");Z.mount(Je),Je.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(ue=>{var He;const pe=(He=ue.querySelector("a"))==null?void 0:He.getAttribute("href"),Ke=(pe==null?void 0:pe.startsWith("#"))&&pe.slice(1);if(!Ke)return;let Ue="";for(;(ue=ue.nextElementSibling)&&!/^h[1-6]$/i.test(ue.tagName);)Ue+=ue.outerHTML;Q.set(Ke,Ue)}),Z.unmount()}if($)return}const B=new Set;if(w.value=w.value.map(U=>{const[J,X]=U.id.split("#"),Q=I.get(J),K=(Q==null?void 0:Q.get(X))??"";for(const Z in U.match)B.add(Z);return{...U,text:K}}),await le(),$)return;await new Promise(U=>{var J;(J=A.value)==null||J.unmark({done:()=>{var X;(X=A.value)==null||X.markRegExp(function(Q){return new RegExp([...Q].sort((K,Z)=>Z.length-K.length).map(K=>`(${Kt(K)})`).join("|"),"gi")}(B),{done:U})}})});const q=((H=n.value)==null?void 0:H.querySelectorAll(".result .excerpt"))??[];for(const U of q)(We=U.querySelector('mark[data-markjs="true"]'))==null||We.scrollIntoView({block:"center"});(qe=(Ge=o.value)==null?void 0:Ge.firstElementChild)==null||qe.scrollIntoView({block:"start"})},{debounce:200,immediate:!0});const k=re(),M=me(()=>{var g;return((g=f.value)==null?void 0:g.length)<=0});function D(g=!0){var y,F;(y=k.value)==null||y.focus(),g&&((F=k.value)==null||F.select())}Ce(()=>{D()});const N=re(-1),C=re(!1);function h(){le(()=>{const g=document.querySelector(".result.selected");g==null||g.scrollIntoView({block:"nearest"})})}ke(w,g=>{N.value=g.length?0:-1,h()}),ye("ArrowUp",g=>{g.preventDefault(),N.value--,N.value<0&&(N.value=w.value.length-1),C.value=!0,h()}),ye("ArrowDown",g=>{g.preventDefault(),N.value++,N.value>=w.value.length&&(N.value=0),C.value=!0,h()});const c=Tt();ye("Enter",g=>{if(g.isComposing||g.target instanceof HTMLButtonElement&&g.target.type!=="submit")return;const y=w.value[N.value];g.target instanceof HTMLInputElement&&!y?g.preventDefault():y&&(c.go(y.id),r("close"))}),ye("Escape",()=>{r("close")});const p=Qt({modal:{displayDetails:"Display detailed list",resetButtonTitle:"Reset search",backButtonTitle:"Close search",noResultsText:"No results for",footer:{selectText:"to select",selectKeyAriaLabel:"enter",navigateText:"to navigate",navigateUpKeyAriaLabel:"up arrow",navigateDownKeyAriaLabel:"down arrow",closeText:"to close",closeKeyAriaLabel:"escape"}}});Ce(()=>{window.history.pushState(null,"",null)}),Ot("popstate",g=>{g.preventDefault(),r("close")});const _=Dt(Rt?document.body:null);function x(){f.value="",le().then(()=>D(!1))}return Ce(()=>{le(()=>{_.value=!0,le().then(()=>s())})}),Mt(()=>{_.value=!1}),(g,y)=>{var F,P,L,$;return ee(),Lt(Bt,{to:"body"},[O("div",{ref_key:"el",ref:n,role:"button","aria-owns":(F=w.value)!=null&&F.length?"localsearch-list":void 0,"aria-expanded":"true","aria-haspopup":"listbox","aria-labelledby":"localsearch-label",class:"VPLocalSearchBox"},[O("div",{class:"backdrop",onClick:y[0]||(y[0]=z=>g.$emit("close"))}),O("div",Sr,[O("form",{class:"search-bar",onPointerup:y[4]||(y[4]=z=>{z.pointerType==="mouse"&&D()}),onSubmit:y[5]||(y[5]=zt(()=>{},["prevent"]))},[O("label",{title:b.value,id:"localsearch-label",for:"localsearch-input"},Ar,8,Ir),O("div",kr,[O("button",{class:"back-button",title:W(p)("modal.backButtonTitle"),onClick:y[1]||(y[1]=z=>g.$emit("close"))},Nr,8,Cr)]),Pt(O("input",{ref_key:"searchInput",ref:k,"onUpdate:modelValue":y[2]||(y[2]=z=>Vt(f)?f.value=z:null),placeholder:b.value,id:"localsearch-input","aria-labelledby":"localsearch-label",class:"search-input"},null,8,Tr),[[jt,W(f)]]),O("div",Or,[m.value?ge("",!0):(ee(),te("button",{key:0,class:Ye(["toggle-layout-button",{"detailed-list":W(v)}]),type:"button",title:W(p)("modal.displayDetails"),onClick:y[3]||(y[3]=z=>N.value>-1&&(v.value=!W(v)))},Rr,10,Dr)),O("button",{class:"clear-button",type:"reset",disabled:M.value,title:W(p)("modal.resetButtonTitle"),onClick:x},Lr,8,Mr)])],32),O("ul",{ref_key:"resultsEl",ref:o,id:(P=w.value)!=null&&P.length?"localsearch-list":void 0,role:(L=w.value)!=null&&L.length?"listbox":void 0,"aria-labelledby":($=w.value)!=null&&$.length?"localsearch-label":void 0,class:"results",onMousemove:y[7]||(y[7]=z=>C.value=!1)},[(ee(!0),te(Ze,null,Xe(w.value,(z,B)=>(ee(),te("li",{key:z.id,role:"option","aria-selected":N.value===B?"true":"false"},[O("a",{href:z.id,class:Ye(["result",{selected:N.value===B}]),"aria-label":[...z.titles,z.title].join(" > "),onMouseenter:q=>!C.value&&(N.value=B),onFocusin:q=>N.value=B,onClick:y[6]||(y[6]=q=>g.$emit("close"))},[O("div",null,[O("div",Vr,[Br,(ee(!0),te(Ze,null,Xe(z.titles,(q,H)=>(ee(),te("span",{key:H,class:"title"},[O("span",{class:"text",innerHTML:q},null,8,$r),Wr]))),128)),O("span",Gr,[O("span",{class:"text",innerHTML:z.title},null,8,qr)])]),W(v)?(ee(),te("div",Jr,[z.text?(ee(),te("div",Kr,[O("div",{class:"vp-doc",innerHTML:z.text},null,8,Ur)])):ge("",!0),Hr,Qr])):ge("",!0)])],42,jr)],8,Pr))),128)),W(f)&&!w.value.length&&S.value?(ee(),te("li",Yr,[ce(de(W(p)("modal.noResultsText"))+' "',1),O("strong",null,de(W(f)),1),ce('" ')])):ge("",!0)],40,zr),O("div",Xr,[O("span",null,[O("kbd",{"aria-label":W(p)("modal.footer.navigateUpKeyAriaLabel")},en,8,Zr),O("kbd",{"aria-label":W(p)("modal.footer.navigateDownKeyAriaLabel")},rn,8,tn),ce(" "+de(W(p)("modal.footer.navigateText")),1)]),O("span",null,[O("kbd",{"aria-label":W(p)("modal.footer.selectKeyAriaLabel")},on,8,nn),ce(" "+de(W(p)("modal.footer.selectText")),1)]),O("span",null,[O("kbd",{"aria-label":W(p)("modal.footer.closeKeyAriaLabel")},"esc",8,an),ce(" "+de(W(p)("modal.footer.closeText")),1)])])])],8,_r)])}}}),[["__scopeId","data-v-639d7ab9"]]);export{cn as default};
